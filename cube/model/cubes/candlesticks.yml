cubes:
  - name: candlesticks
    sql_table: candlesticks
    data_source: default

    joins: []

    dimensions:
      - name: product_id
        sql: product_id
        type: string

      - name: timestamp
        sql: timestamp
        type: time
      
      - name: open
        sql: open
        type: number
      
      - name: high
        sql: high
        type: number
      
      - name: low
        sql: low
        type: number
      
      - name: close
        sql: close
        type: number

    # measures:
    #   - name: open
    #     sql: open
    #     type: number
      
    #   - name: high
    #     sql: high
    #     type: number
      
    #   - name: low
    #     sql: low
    #     type: number
      
    #   - name: close
    #     sql: close
    #     type: number
    
    segments:
      - name: btc
        sql: "{CUBE}.product_id = 'BTC-USD'"
      - name: eth
        sql: "{CUBE}.product_id = 'ETH-USD'"

    pre_aggregations:
      # Pre-aggregation definitions go here.
      # Learn more in the documentation: https://cube.dev/docs/caching/pre-aggregations/getting-started

